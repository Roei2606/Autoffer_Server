server:
  port: ${PORT:8080}
  address: 0.0.0.0

spring:
  rsocket:
    server:
      transport: websocket
      mapping-path: /rsocket
      keep-alive:
        interval: 20000
        timeout: 90000
      data-mime-type: application/json
      metadata-mime-type: message/x.rsocket.composite-metadata.v0

  data:
    mongodb:
      # ⛔️ מומלץ לא לשים סיסמה בקובץ. ראה הערה בסוף.
      uri: ${MONGODB_URI:mongodb+srv://roeihakmon:FvEleLgyd6bluJ6x@cluster0.acblw.mongodb.net/messaging-db?retryWrites=true&w=majority&appName=Cluster0}

# לוגים – תשאיר כמו שהוא
logging:
  level:
    org.springframework.rsocket: DEBUG
    org.springframework.data.mongodb: INFO
    io.rsocket: DEBUG

# 👇 קונפיגורציה לשירות הפענוח (Python)
docai:
  python:
    base-url: ${DOCAI_BASE_URL:http://localhost:5051}
    parse-path: ${DOCAI_PARSE_PATH:/process_pdf/}   # ← כאן העדכון
    auth-header-name: ${DOCAI_AUTH_HEADER_NAME:X-API-Key}
    auth-token: ${DOCAI_API_TOKEN:}                 # נמלא ENV אם משתמשים ב-API Key
    connect-timeout-ms: ${DOCAI_CONNECT_TIMEOUT_MS:5000}
    read-timeout-ms: ${DOCAI_READ_TIMEOUT_MS:20000}

